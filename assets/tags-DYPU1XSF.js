import{_ as N}from"./YunCard.vue_vue_type_script_setup_true_lang-Bt2wnHI3.js";import{_ as j}from"./YunPostCollapse.vue_vue_type_style_index_0_lang-CgEvlhff.js";import{cz as q,cA as P,d as V,e as S,o as e,g,v as T,aw as D,ax as I,u as M,b as G,G as H,z as O,Q,l as Y,C as W,m as J,ar as K,i as U,c as u,j as m,w as o,r as X,av as Z,ay as tt,x as et,f as t,F as B,t as st,B as nt}from"./app-CiB7UBw_.js";import{_ as ot}from"./YunPageHeader.vue_vue_type_script_setup_true_lang-CE6MNawq.js";import{u as at}from"./helper-B-T7R4nf.js";function rt(a={primary:"#0078E7"}){const r=q(),p=new P("#999999"),f=new P(a.primary);return{tags:r,getTagStyle:n=>{const l=Array.from(r.value).map(([x,v])=>v.count),y=Math.max(...l),s=Math.min(...l),h=y-s,_=(n-s)/h;return{"--yun-tag-color":p.mix(f,_*100).toString(),fontSize:`${_*36+12}px`}}}}const lt={"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},it={"inline-flex":""},ct={"inline-flex":"",text:"xs"},ut=V({__name:"YunLayoutPostTag",props:{title:{},count:{}},setup(a){return(r,p)=>(e(),S("span",lt,[g("span",it,"#"+T(a.title),1),g("span",ct,"["+T(a.count)+"]",1)]))}}),mt={class:"yun-text-light",text:"center",p:"2"},pt={class:"justify-center items-end",flex:"~ wrap",gap:"1"},xt=V({__name:"tags",setup(a){D([I({"@type":"CollectionPage"})]);const r=M(),p=G(),f=H(),{t:d}=O(),n=Q(),{tags:l,getTagStyle:y}=rt({primary:f.value.colors.primary}),s=Y(()=>r.query.tag||""),h=W(),_=Y(()=>h.postList.filter(c=>c.tags?typeof c.tags=="string"?c.tags===s.value:c.tags.includes(s.value):!1)),x=J(),{show:v}=at(x);function z(i){p.push({query:{tag:i}}),v()}const A=K(n);return(i,c)=>{const w=Z,$=ot,L=ut,b=U("RouterView"),R=j,E=N;return e(),S(B,null,[i.$slots["sidebar-child"]?(e(),u(w,{key:0},{default:o(()=>[X(i.$slots,"sidebar-child")]),_:3})):(e(),u(w,{key:1})),m(b,null,{default:o(({Component:F})=>[(e(),u(tt(F),null,{"main-header":o(()=>[m($,{title:t(A)||t(d)("menu.tags"),icon:t(n).icon||"i-ri-tag-line",color:t(n).color,"page-title-class":t(n).pageTitleClass},null,8,["title","icon","color","page-title-class"])]),"main-content":o(()=>[g("div",mt,T(t(d)("counter.tags",Array.from(t(l)).length)),1),g("div",pt,[(e(!0),S(B,null,st(Array.from(t(l)).sort(),([C,k])=>(e(),u(L,{key:C,title:C,count:k.count,style:nt(t(y)(k.count)),onClick:_t=>z(C.toString())},null,8,["title","count","style","onClick"]))),128))]),m(b)]),"main-nav-before":o(()=>[s.value?(e(),u(E,{key:0,ref_key:"collapse",ref:x,m:"t-4",w:"full"},{default:o(()=>[m($,{title:s.value,icon:"i-ri-hashtag"},null,8,["title"]),m(R,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:_.value},null,8,["posts"])]),_:1},512)):et("v-if",!0)]),_:1}))]),_:1})],64)}}});export{xt as default};
