import{_ as f}from"./ValaxyMain.vue_vue_type_style_index_0_lang-Lj6vZGyG.js";import{u as p,c,o as g,w as e,r as a,g as t,x as b,h as n,f as $,p as m}from"./app-D6Hejker.js";import"./YunFooter-BsWuc4uy.js";import"./YunCard.vue_vue_type_script_setup_true_lang-DrznGDEn.js";import"./index-C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-Dma2ZTu7.js";import"./post-C0fFnzag.js";const V={__name:"腾讯云cos图床+cloudflare+Picgo",setup(v,{expose:u}){const r=JSON.parse('{"title":"腾讯云cos图床+cloudflare+Picgo","description":"","frontmatter":{"layout":"post","title":"腾讯云cos图床+cloudflare+Picgo","date":"2024-09-15 08:15:51","time_warning":true,"cover":null,"top":null,"tags":null,"categories":"其他"},"headers":[{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[]}],"relativePath":"pages/posts/腾讯云cos图床+cloudflare+Picgo.md","path":"/home/runner/work/remnantsaint.github.io/remnantsaint.github.io/pages/posts/腾讯云cos图床+cloudflare+Picgo.md","lastUpdated":1758348498000}'),i=p(),s=r.frontmatter||{};return i.meta.frontmatter=Object.assign(i.meta.frontmatter||{},r.frontmatter||{}),m("pageData",r),m("valaxy:frontmatter",s),globalThis.$frontmatter=s,u({frontmatter:{layout:"post",title:"腾讯云cos图床+cloudflare+Picgo",date:"2024-09-15 08:15:51",time_warning:!0,cover:null,top:null,tags:null,categories:"其他"}}),(o,l)=>{const d=f;return g(),c(d,{frontmatter:$(s)},{"main-content-md":e(()=>[l[0]||(l[0]=t("h2",{id:"前言",tabindex:"-1"},[n("前言 "),t("a",{class:"header-anchor",href:"#前言","aria-label":'Permalink to "前言"'},"​")],-1)),l[1]||(l[1]=t("p",null,"以前一直是用github作为图床，同时使用免费cdn，但是缺点就是偶尔会加载不出来图片，科学上网后倒是可以正常看，总之很烦，手机看也是基本加载不出来图片。",-1)),l[2]||(l[2]=t("p",null,"现在考虑用存储桶来存储图片，同时使用 cloudflare 代理网站来提供 cdn 加速。我的域名没有备案，所以就得腾讯云 cos 中国外的存储桶",-1)),b(" more "),l[3]||(l[3]=t("p",null,"优点：加载图片更稳定 缺点：加载速度比较慢",-1)),l[4]||(l[4]=t("ol",null,[t("li",null,"首先在 cloudflare 中添加自己的域名，然后更改dns服务商，把原来的两个链接修改成 cloudflare 给的。"),t("li",null,"完成代理网站后，把原来服务商的 dns 记录添加到 cloudflare 中，确保能正常访问博客。如果遇到博客访问不了的情况，可以尝试清除浏览器缓存和清除 cloudflare 端的缓存。还是访问不了可以试试把 SSL 模式设置成完全。"),t("li",null,"将 github 中图床仓库下载到本地。在腾讯云控制台的存储对象中创建新的存储桶。"),t("li",null,"存储桶地区推荐选择新加坡，创建完毕后，在存储桶内创建一个 img 文件夹来存储图片。"),t("li",null,"把所有图片上传到 img 文件夹中，安全选项中的防盗链可以先关闭（我开启后设置正确不知道为什么自己网站图片加载不出来"),t("li",null,"设置自定义域名，可以用自己域名的二级域名，例如 cloudflare.example.com，同时配置 dns ，这时候有红色感叹号不用管，访问一下二级域名和默认域名看看内容一不一样就行了。只有配置了自定义域名，cos 才能被 cloudflare 的 cdn 保护。"),t("li",null,[n("配置 picgo 其中前五项是必填，可以在腾讯云控制台中找到，存储路径填 img/ ，自定义域名填 "),t("a",{href:"https://cloudflare.example.com",target:"_blank",rel:"noreferrer"},"https://cloudflare.example.com"),n(" 填自己的")]),t("li",null,"用 vscode 把所有调用图床的链接全部替换一下。"),t("li",null,"一般情况下就可以用了")],-1)),l[5]||(l[5]=t("p",null,[n("为了博客访问加快和防刷图片流量，我将域名的 DNS 解析从腾讯云换到了 cloudflare 上，利用其免费 CDN 功能，没啥人看的博客每个月平均腾讯云存储桶花费 三分钱"),t("br"),n(" 目前博客在 github 上的仓库大小为 123MB 感觉还能写很久很久"),t("br"),n(" cloudflare 上要配置页面规则，这个是优先的规则只能配置三条")],-1)),l[6]||(l[6]=t("br",null,null,-1)),l[7]||(l[7]=t("p",null,[n("picgo 上传图片最好是 "),t("code",null,"日期 - 名字"),n(" 时间戳可选")],-1))]),"main-header":e(()=>[a(o.$slots,"main-header")]),"main-header-after":e(()=>[a(o.$slots,"main-header-after")]),"main-nav":e(()=>[a(o.$slots,"main-nav")]),"main-content":e(()=>[a(o.$slots,"main-content")]),"main-content-after":e(()=>[a(o.$slots,"main-content-after")]),"main-nav-before":e(()=>[a(o.$slots,"main-nav-before")]),"main-nav-after":e(()=>[a(o.$slots,"main-nav-after")]),comment:e(()=>[a(o.$slots,"comment")]),footer:e(()=>[a(o.$slots,"footer")]),aside:e(()=>[a(o.$slots,"aside")]),"aside-custom":e(()=>[a(o.$slots,"aside-custom")]),default:e(()=>[a(o.$slots,"default")]),_:3},8,["frontmatter"])}}};export{V as default};
