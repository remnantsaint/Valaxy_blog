---
layout: post
title: 机器学习课程
date: 2024-10-31 14:54:08
cover: 
top: 
tags: 
categories: 
  - 人工智能
# author: @Remsait
---
### 1.2 数据获取
采集数据的方法：1.在各种网站爬取。2.子集采集数据  

找数据集：
- Paperswithcodes Datasets   论文中的数据集
- Kaggle Datasets   机器学习竞赛的数据集
- Google Dataset search   在谷歌上搜索
- 等等
可用学术数据集、竞赛数据集、原始数据集

### 1.3 网页数据抓取
数据抓取是指手机网页上特定的有价值的数据  
先爬取 html 网页，然后用 BeautifulSoup 包来抓取特定的信息  
最终变成一个个数学列表  

爬公开的网页信息，不爬有版权的信息

### 1.4 数据标注
提高数据的质量  

找标注工做标注  

没钱就弱监督学习，半自动生成标号

总结：标注的三个方法：
1. 自训练：已经有一些样本的标号，不断地去训练模型，把模型在没有标号的数据上预测较准的数据放到标注集中，不断的迭代。（标注比较简单的数据）
2. 众包（标注比较难的数据）
3. 弱监督学习

### 2.1 探索性数据分析
分析一个住房数据：
```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt 
import seaborn as sns
fromt IPython import display
# svg 拥有高分辨率
display.set_matplotlib_formats('svg')

# 住房信息存为csv文件，并且经过压缩也能识别
data = pd.read_csv('house_sales.zip')

# data.shape 命令能获取 data 的维度
data.shape

# 打印前面几行
data.head()

# 会发现脏数据有很多的缺失或者错误数据

# 显示缺失率小于0.3的列
null_sum = data.isnull().sum()
data.columns[null_sum < len(data) * 0.3]

# 删除缺失率大于0.3的列
data.drop(columns = data.columns[null_sum > len(data) * 0.3], inplace = True)

# 查看数据类型,很多需要进行数据转换（数据清洗）
data.dtypes

# 遍历这几个列，将$和-删去，将空串替换成NaN，把数字类型转换为 float
# r''表示''内的字符串不会被转义，^\s*$ 正则表示空串
currency = ['Sold Price','Listed Price','Tax assessed value','Annual tax amount']
for c in currency:
	data[c] = data[c].replace(
		r'[$,-]','',regex = True).replace(
		r'^\s*$',np.nan, regex = True).astype(float)

# 遍历这两个列，看是否有 Acres 单位，删去可能存在的 sqft Acres , 这三个，并更改数据类型，然后将有 Acres 单位的值乘43560
# \b 是单词边界，使其精准匹配
areas = ['Total interior livable area','Lot size']
for c in areas:
	acres = data[c].str.contains('Acres') ==True
	col = data[c].replace(r'\b sqft\b|\b Acres\b|\b,\b','',regex = True).astype(float)
	col[acres] *= 43560
	data[c] = col

# 列出每个列的综合、最小、方差等，看看噪声
data.describe()

# abnormal为异常，过滤掉不正常面积的房子
abnormal = (data[areas[1]] <10) | (data[areas[1]] > 1e4)
data = data[~abnormal]
sum(abnormal)

# 画出直方图，%.0e指用科学计数法表示，xlim是x轴范围，xticks是x轴刻度，xticklabels是x轴标签
ax = sns.histplot(np.log10(data['Sold Price']))
ax.set_xlim([3,8])
ax.set_xticks(range(3,9))
ax.set_xticklabels(['%.0e'%a for a in 10**ax.get_xticks()])

# 把房子的类别的值打印出来，前20行
data['Type'].value_counts()[0:20]

# 画出房价核密度估计图（KDE）
types = data['Type'].isin(['SingleFamily','Condo','MultiFamily','Townhouse'])
sns.displot(pd.DataFrame({'Sold Price':np.log10(data[types]['Sold Price']),'Type':data[types]['Type']}), x='Sold Price', hue='Type', kind = 'kde')

# 计算每平方英尺的售价，存储在新类，绘制箱线图
data['Price per living sqft'] = data['Sold Price'] / data['Total interior livable area']
ax = sns.boxplot(x='Type', y='Price per living sqft', data=data[types], fliersize=0)
ax.set_ylim([0,2000]);
```

### 2.2 数据清洗















### Reference
斯坦福21秋季：实用机器学习中文版